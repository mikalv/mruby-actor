<class name = "actor_message"
  signature = "7"
  title = "mruby actor messages"
  script = "zproto_codec_mruby"
  package_dir = ".">

  <header>
    <field name = "version" type = "number" size = "1" value = "1" />
  </header>

  <message name = "initialize" id = "1">
    <field name = "mrb_class" type = "string" />
    <field name = "args" type = "chunk" />
  </message>

  <message name = "initialize ok" id = "2">
    <field name = "object_id" type = "number" size = "8" />
  </message>

  <message name = "send message" id = "3">
    <field name = "object_id" type = "number" size = "8" />
    <field name = "method" type = "string" />
    <field name = "args" type = "chunk" />
  </message>

  <message name = "send ok" id = "4">
    <field name = "result" type = "chunk" />
  </message>

  <message name = "error" id = "5">
    <field name = "mrb_class" type = "string" />
    <field name = "error" type = "string" />
  </message>

  <message name = "async send message" id = "6">
    <field name = "object_id" type = "number" size = "8" />
    <field name = "uuid" type = "uuid" />
    <field name = "method" type = "string" />
    <field name = "args" type = "chunk" />
  </message>

  <message name = "async send ok" id = "7">
    <field name = "object_id" type = "number" size = "8" />
    <field name = "uuid" type = "uuid" />
    <field name = "result" type = "chunk" />
  </message>

  <message name = "async error" id = "8">
    <field name = "object_id" type = "number" size = "8" />
    <field name = "uuid" type = "uuid" />
    <field name = "mrb_class" type = "string" />
    <field name = "error" type = "string" />
  </message>
</class>
